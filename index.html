<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Generation Workflow</title>
    <link rel="stylesheet" href="workflow-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Mermaid.js for flowcharts -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-glow"></div>
            <h1>üìÑ Document Generation Workflow</h1>
            <p class="subtitle">AI-Powered Corporate Legal Document Drafting System</p>
        </header>

        <!-- ============================================
             SIMPLE MERMAID FLOWCHART SECTION
             ============================================ -->
        <div class="mermaid-section">
            <div class="section-header mermaid-header">
                <span class="section-icon">üìä</span>
                <h2>Simple Workflow Overview</h2>
                <div class="section-line"></div>
            </div>

            <div class="mermaid-container">
                <pre class="mermaid">
flowchart TD
    subgraph USER["üë§ USER WORKFLOW"]
        A[üåç Step 1: Select Jurisdiction<br/>Country/State] --> B[üìã Step 2: Select Request Type<br/>e.g., AGM, Dividend, Banking]
        B --> C[‚úèÔ∏è Step 3: Fill Details<br/>+ Choose Minutes OR Resolution<br/>+ Optional User Notes<br/>+ Upload Custom Template]
        C --> D[ü§ñ Step 4: Generate 3 Drafts]
    end
    
    subgraph TECH["‚öôÔ∏è TECH STACK - Template Priority"]
        D --> U{üì§ User Uploaded<br/>Template?}
        U -->|YES - Priority 1| T1[üìé Use User Template]
        U -->|NO| E{üîç Check Blob Storage<br/>Template Exists?}
        E -->|YES - Priority 2| T2[üì¶ Fetch from Blob]
        E -->|NO - Priority 3| H[ü§ñ Generate via LLM]
        H --> S[üíæ Store in Blob]
        S --> T2
        T1 --> F[üîÄ Template Ready]
        T2 --> F
        F --> I[‚ú® Generate Outputs]
    end
    
    subgraph OUTPUT["üì§ OUTPUT"]
        I --> J[üß† AI Draft]
        I --> K[üìÑ Template Fill]
        I --> L[‚ö° Combined]
    end

    style A fill:#6366f1,stroke:#4f46e5,color:#fff
    style B fill:#06b6d4,stroke:#0891b2,color:#fff
    style C fill:#f59e0b,stroke:#d97706,color:#fff
    style D fill:#10b981,stroke:#059669,color:#fff
    style U fill:#14b8a6,stroke:#0d9488,color:#fff
    style T1 fill:#14b8a6,stroke:#0d9488,color:#fff
    style E fill:#8b5cf6,stroke:#7c3aed,color:#fff
    style T2 fill:#22c55e,stroke:#16a34a,color:#fff
    style H fill:#ef4444,stroke:#dc2626,color:#fff
    style S fill:#eab308,stroke:#ca8a04,color:#fff
    style F fill:#3b82f6,stroke:#2563eb,color:#fff
    style I fill:#a855f7,stroke:#9333ea,color:#fff
    style J fill:#ec4899,stroke:#db2777,color:#fff
    style K fill:#06b6d4,stroke:#0891b2,color:#fff
    style L fill:#f97316,stroke:#ea580c,color:#fff
                </pre>
            </div>
        </div>

        <!-- Main Workflow Container -->
        <div class="workflow-container">

            <!-- Section Divider: User Workflow -->
            <div class="section-header user-section">
                <span class="section-icon">üë§</span>
                <h2>User Workflow (Detailed)</h2>
                <div class="section-line"></div>
            </div>

            <!-- Step 1 -->
            <div class="step-card step-1 animate-in">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-header">
                        <span class="step-icon">üåç</span>
                        <h3>Select Jurisdiction</h3>
                    </div>
                    <p class="step-description">Choose the country or state for your corporate legal document</p>
                    <div class="step-visual">
                        <div class="jurisdiction-grid">
                            <div class="jurisdiction-item">üá∫üá∏ USA</div>
                            <div class="jurisdiction-item">üá¨üáß UK</div>
                            <div class="jurisdiction-item">üáÆüá≥ India</div>
                            <div class="jurisdiction-item">üá≠üá∞ Hong Kong</div>
                            <div class="jurisdiction-item">üá∏üá¨ Singapore</div>
                            <div class="jurisdiction-item active">+ More</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Connector Arrow -->
            <div class="connector">
                <div class="connector-line"></div>
                <div class="connector-arrow">‚ñº</div>
            </div>

            <!-- Step 2 -->
            <div class="step-card step-2 animate-in">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-header">
                        <span class="step-icon">üìã</span>
                        <h3>Select Request Type</h3>
                    </div>
                    <p class="step-description">Choose the kind of corporate document request you need</p>
                    <div class="step-visual">
                        <div class="request-categories">
                            <div class="category-group">
                                <div class="category-title">üìä Meetings & Governance</div>
                                <div class="request-types">
                                    <div class="request-chip">Calling an AGM</div>
                                    <div class="request-chip">Calling an EGM</div>
                                    <div class="request-chip">Approval of Audited Accounts</div>
                                </div>
                            </div>
                            <div class="category-group">
                                <div class="category-title">üí∞ Financial & Banking</div>
                                <div class="request-types">
                                    <div class="request-chip">Dividend Distribution</div>
                                    <div class="request-chip">Banking Facilities / Loan Approval</div>
                                    <div class="request-chip">Opening/Closing Bank Accounts</div>
                                    <div class="request-chip">Change Bank Signatories</div>
                                </div>
                            </div>
                            <div class="category-group">
                                <div class="category-title">üë• Directors & Officers</div>
                                <div class="request-types">
                                    <div class="request-chip">Appointment of Directors</div>
                                    <div class="request-chip">Re-appointment of Auditor</div>
                                    <div class="request-chip">Change of Particulars</div>
                                    <div class="request-chip">Grant Power of Attorney</div>
                                </div>
                            </div>
                            <div class="category-group">
                                <div class="category-title">üìù Company Changes</div>
                                <div class="request-types">
                                    <div class="request-chip">Change Registered Office</div>
                                    <div class="request-chip">Change Business Scope</div>
                                    <div class="request-chip">Amendment to Articles</div>
                                    <div class="request-chip">Significant Contracts</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Connector Arrow -->
            <div class="connector">
                <div class="connector-line"></div>
                <div class="connector-arrow">‚ñº</div>
            </div>

            <!-- Step 3 -->
            <div class="step-card step-3 animate-in">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-header">
                        <span class="step-icon">‚úèÔ∏è</span>
                        <h3>Fill Input Details</h3>
                    </div>
                    <p class="step-description">Provide mandatory information based on request type and select document
                        format</p>

                    <!-- Sub-sections -->
                    <div class="sub-sections">
                        <div class="sub-section mandatory">
                            <div class="sub-header">
                                <span class="required-badge">Required</span>
                                <span class="sub-title">Mandatory Inputs (varies by request type)</span>
                            </div>
                            <div class="input-example-box">
                                <div class="example-label">Example: For "Re-appointment of Auditor"</div>
                                <div class="input-preview">
                                    <div class="input-field">Company Name</div>
                                    <div class="input-field">Auditor Name</div>
                                    <div class="input-field">Term of Office</div>
                                    <div class="input-field">Directors</div>
                                </div>
                            </div>
                            <div class="input-example-box">
                                <div class="example-label">Example: For "Dividend Distribution"</div>
                                <div class="input-preview">
                                    <div class="input-field">Company Name</div>
                                    <div class="input-field">Dividend Amount</div>
                                    <div class="input-field">No. of Shares</div>
                                    <div class="input-field">Payable Date</div>
                                    <div class="input-field">Record Date</div>
                                </div>
                            </div>
                        </div>

                        <div class="sub-section document-type">
                            <div class="sub-header">
                                <span class="choice-badge">Choose One</span>
                                <span class="sub-title">Document Type</span>
                            </div>
                            <div class="toggle-options">
                                <div class="toggle-option active">
                                    <span class="toggle-icon">üìù</span>
                                    <div class="toggle-content">
                                        <span class="toggle-title">Written Resolution</span>
                                        <span class="toggle-desc">Decision approved in writing without holding a
                                            meeting</span>
                                    </div>
                                </div>
                                <div class="toggle-divider">OR</div>
                                <div class="toggle-option">
                                    <span class="toggle-icon">üìä</span>
                                    <div class="toggle-content">
                                        <span class="toggle-title">Minutes of Meeting</span>
                                        <span class="toggle-desc">Official written record of what was discussed and
                                            decided</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="sub-section user-input">
                            <div class="sub-header">
                                <span class="optional-badge">Optional</span>
                                <span class="sub-title">Additional User Input</span>
                            </div>
                            <div class="user-input-box">
                                <span class="textarea-icon">üí¨</span>
                                <span class="textarea-placeholder">Add any specific requirements, special clauses, or
                                    additional notes you want included in the document...</span>
                            </div>
                        </div>

                        <div class="sub-section template-upload">
                            <div class="sub-header">
                                <span class="upload-badge">Optional</span>
                                <span class="sub-title">Upload Your Own Template</span>
                            </div>
                            <div class="upload-box">
                                <div class="upload-icon">üì§</div>
                                <div class="upload-content">
                                    <span class="upload-title">Drag & Drop or Click to Upload</span>
                                    <span class="upload-desc">Upload your custom template (.docx, .pdf, .txt)</span>
                                    <span class="upload-note">ü•á Highest Priority: Your uploaded template will be used
                                        first, before checking pre-existing templates or AI generation</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Connector Arrow -->
            <div class="connector">
                <div class="connector-line"></div>
                <div class="connector-arrow">‚ñº</div>
            </div>

            <!-- Step 4 -->
            <div class="step-card step-4 animate-in">
                <div class="step-number">4</div>
                <div class="step-content">
                    <div class="step-header">
                        <span class="step-icon">ü§ñ</span>
                        <h3>AI Generates 3 Drafts</h3>
                    </div>
                    <p class="step-description">Choose from three different output options tailored to your needs</p>

                    <div class="drafts-grid">
                        <div class="draft-card draft-ai">
                            <div class="draft-icon">üß†</div>
                            <h4>AI Draft</h4>
                            <p>Fully AI-generated document with smart legal language and contextual suggestions</p>
                            <div class="draft-badge ai-badge">Smart</div>
                        </div>
                        <div class="draft-card draft-template">
                            <div class="draft-icon">üìÑ</div>
                            <h4>Template Fill</h4>
                            <p>Standard template with your inputs filled in - fast and reliable</p>
                            <div class="draft-badge template-badge">Quick</div>
                        </div>
                        <div class="draft-card draft-combined">
                            <div class="draft-icon">‚ö°</div>
                            <h4>Combined Output</h4>
                            <p>Template structure enhanced with AI improvements - best of both worlds</p>
                            <div class="draft-badge combined-badge">Recommended</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section Divider: Tech Stack -->
            <div class="section-header tech-section">
                <span class="section-icon">‚öôÔ∏è</span>
                <h2>Tech Stack & Backend Flow</h2>
                <div class="section-line"></div>
            </div>

            <!-- Tech Flow Diagram -->
            <div class="tech-flow-container">
                <div class="tech-flow">

                    <!-- Input Node -->
                    <div class="tech-node input-node">
                        <div class="node-icon">üì•</div>
                        <div class="node-content">
                            <h4>User Inputs Received</h4>
                            <p>Jurisdiction + Request Type + Document Type + Details</p>
                        </div>
                    </div>

                    <!-- Arrow -->
                    <div class="tech-arrow">‚Üì</div>

                    <!-- Decision Diamond 1: Check User Upload (PRIORITY 1) -->
                    <div class="decision-container">
                        <div class="priority-label">Priority Check Order</div>

                        <div class="tech-node decision-node">
                            <div class="diamond-shape priority-1-diamond">
                                <div class="diamond-content">
                                    <span class="decision-icon">üì§</span>
                                    <span class="decision-text">User Template?</span>
                                </div>
                            </div>
                            <p class="decision-question">‚ë† First: Did user upload a custom template?</p>
                        </div>

                        <!-- Decision Branches -->
                        <div class="decision-branches">
                            <div class="branch yes-branch">
                                <span class="branch-label yes-label">‚úì YES</span>
                                <div class="branch-arrow">‚Üì</div>
                                <div class="tech-node small-node user-template-node">
                                    <div class="node-icon">üìé</div>
                                    <span>Use User's Template</span>
                                    <div class="priority-tag">Highest Priority</div>
                                </div>
                            </div>
                            <div class="branch no-branch">
                                <span class="branch-label no-label">‚úó NO</span>
                                <div class="branch-arrow">‚Üì</div>

                                <!-- Decision Diamond 2: Check Blob Storage (PRIORITY 2) -->
                                <div class="sub-decision">
                                    <div class="tech-node small-decision-node">
                                        <div class="small-diamond priority-2-diamond">
                                            <span class="decision-icon">üîç</span>
                                        </div>
                                        <p class="sub-decision-text">‚ë° Second: Check Blob Storage</p>
                                    </div>

                                    <div class="sub-branches">
                                        <div class="sub-branch yes-sub">
                                            <span class="branch-label yes-label">‚úì EXISTS</span>
                                            <div class="branch-arrow">‚Üì</div>
                                            <div class="tech-node small-node fetch-node">
                                                <div class="node-icon">üì¶</div>
                                                <span>Fetch from Blob</span>
                                            </div>
                                        </div>
                                        <div class="sub-branch no-sub">
                                            <span class="branch-label no-label">‚úó NOT FOUND</span>
                                            <div class="branch-arrow">‚Üì</div>

                                            <!-- AI Generation (PRIORITY 3 - FALLBACK) -->
                                            <div class="fallback-section">
                                                <div class="fallback-label">‚ë¢ Fallback: AI Generation</div>
                                                <div class="tech-node small-node generate-node">
                                                    <div class="node-icon">ü§ñ</div>
                                                    <span>Generate via LLM</span>
                                                </div>
                                                <div class="branch-arrow">‚Üì</div>
                                                <div class="tech-node small-node store-node">
                                                    <div class="node-icon">üíæ</div>
                                                    <span>Store in Blob</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Merge Point -->
                    <div class="merge-container">
                        <div class="merge-arrows">
                            <span class="merge-left">‚Üò</span>
                            <span class="merge-right">‚Üô</span>
                        </div>
                        <div class="tech-node merge-node">
                            <div class="node-icon">üîÄ</div>
                            <div class="node-content">
                                <h4>Template Ready</h4>
                                <p>Process with user inputs</p>
                            </div>
                        </div>
                    </div>

                    <!-- Arrow -->
                    <div class="tech-arrow down-arrow">‚Üì</div>

                    <!-- Final Output -->
                    <div class="final-output">
                        <div class="tech-node output-node">
                            <div class="node-icon">‚ú®</div>
                            <div class="node-content">
                                <h4>Generate 3 Draft Outputs</h4>
                            </div>
                        </div>
                        <div class="output-cards">
                            <div class="mini-output">üß† AI Draft</div>
                            <div class="mini-output">üìÑ Template Fill</div>
                            <div class="mini-output">‚ö° Combined</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Blob Storage Visualization -->
            <div class="storage-visual">
                <div class="storage-header">
                    <span class="storage-icon">‚òÅÔ∏è</span>
                    <h3>Blob Storage Structure</h3>
                </div>
                <div class="storage-content">
                    <div class="storage-box">
                        <div class="storage-title">üìÅ Template Mapping</div>
                        <div class="mapping-example">
                            <code>
                                <span class="key">Key:</span> [Jurisdiction]_[RequestType]_[DocType]<br>
                                <span class="value">Value:</span> Template Content
                            </code>
                        </div>
                        <div class="example-mappings">
                            <div class="mapping-item">
                                <span class="mapping-key">HK_ReappointmentAuditor_Resolution</span>
                                <span class="mapping-arrow">‚Üí</span>
                                <span class="mapping-value">Auditor Template</span>
                            </div>
                            <div class="mapping-item">
                                <span class="mapping-key">SG_DividendDistribution_Minutes</span>
                                <span class="mapping-arrow">‚Üí</span>
                                <span class="mapping-value">Dividend Template</span>
                            </div>
                            <div class="mapping-item">
                                <span class="mapping-key">UK_BankingFacilities_Resolution</span>
                                <span class="mapping-arrow">‚Üí</span>
                                <span class="mapping-value">Banking Template</span>
                            </div>
                            <div class="mapping-item">
                                <span class="mapping-key">IN_CallingAGM_Minutes</span>
                                <span class="mapping-arrow">‚Üí</span>
                                <span class="mapping-value">AGM Template</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Request Types Reference -->
            <div class="reference-section">
                <div class="section-header ref-header">
                    <span class="section-icon">üìö</span>
                    <h2>Available Request Types Reference</h2>
                    <div class="section-line"></div>
                </div>

                <div class="reference-grid">
                    <div class="ref-card">
                        <div class="ref-icon">üë®‚Äç‚öñÔ∏è</div>
                        <h4>Re-appointment of Auditor</h4>
                        <p>Appointing the same external auditor again for the next term/year</p>
                        <div class="ref-inputs">Company Name | Auditor Name | Term of Office | Directors</div>
                    </div>
                    <div class="ref-card">
                        <div class="ref-icon">üìÖ</div>
                        <h4>Calling an AGM</h4>
                        <p>Formally arranging and notifying members for yearly shareholders' meeting</p>
                        <div class="ref-inputs">Company Name | Financial Statements | Dividend | Directors</div>
                    </div>
                    <div class="ref-card">
                        <div class="ref-icon">üè¶</div>
                        <h4>Banking Facilities / Loan</h4>
                        <p>Authorizing company to obtain loans or use banking facilities</p>
                        <div class="ref-inputs">Company | Lender | Loan Amount | Purpose | Signatories</div>
                    </div>
                    <div class="ref-card">
                        <div class="ref-icon">üíµ</div>
                        <h4>Dividend Distribution</h4>
                        <p>Approving and authorizing payment of profits to shareholders</p>
                        <div class="ref-inputs">Company | Dividend Amount | Shares | Payable Date | Record Date</div>
                    </div>
                    <div class="ref-card">
                        <div class="ref-icon">üìù</div>
                        <h4>Significant Contracts</h4>
                        <p>Approving major agreements or important business deals</p>
                        <div class="ref-inputs">Company | Contract Details | Counterparty | Consideration</div>
                    </div>
                    <div class="ref-card">
                        <div class="ref-icon">üè¢</div>
                        <h4>Change Registered Office</h4>
                        <p>Updating the company's official registered address</p>
                        <div class="ref-inputs">Company | New Address | Effective Date | Directors</div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Built with ‚ù§Ô∏è for efficient corporate document generation</p>
        </footer>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#6366f1',
                primaryTextColor: '#fff',
                primaryBorderColor: '#818cf8',
                lineColor: '#94a3b8',
                secondaryColor: '#1e293b',
                tertiaryColor: '#0f172a',
                background: '#1e293b',
                mainBkg: '#1e293b',
                nodeBorder: '#6366f1',
                clusterBkg: 'rgba(99, 102, 241, 0.1)',
                clusterBorder: 'rgba(99, 102, 241, 0.3)',
                titleColor: '#f8fafc',
                edgeLabelBackground: '#1e293b'
            },
            flowchart: {
                htmlLabels: true,
                curve: 'basis',
                padding: 20
            }
        });

        // Add scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.animate-in, .tech-node, .draft-card, .ref-card').forEach(el => {
            observer.observe(el);
        });

        // Add hover effects to step cards
        document.querySelectorAll('.step-card').forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.style.transform = 'translateY(-5px) scale(1.02)';
            });
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'translateY(0) scale(1)';
            });
        });
    </script>
</body>

</html>